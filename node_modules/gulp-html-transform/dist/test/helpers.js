"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var path_1 = require("path");
var File = require("vinyl");
var fs_1 = require("fs");
var transform_1 = require("../transform");
exports.testTransform = function (filename, transformers) {
    var path = path_1.join(__dirname, filename);
    var file = new File({
        path: path,
        contents: fs_1.readFileSync(path),
    });
    var transformer = transform_1.transform.apply(void 0, transformers);
    transformer.write(file);
    return new Promise(function (resolve, reject) {
        transformer.once('data', function (file) {
            if (!file.contents) {
                return reject(file);
            }
            return resolve(file.contents.toString());
        });
    });
};
