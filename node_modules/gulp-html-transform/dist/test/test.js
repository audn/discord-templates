"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var assert = require("assert");
var es = require("event-stream");
var File = require("vinyl");
var src_1 = require("../src");
describe('gulp-html-transform', function () {
    describe('lqip', function () {
        var fakeFile = new File({
            contents: new Buffer(["<img src=\"test.jpg\" />"]),
        });
        var transformer = src_1.transform(src_1.lqip());
        transformer.write(fakeFile);
        transformer.once('data', function (file) {
            assert(file.isStream());
            file.contents.pipe(es.wait(function (_err, data) {
                assert.equal(data, '<img src="test.jpg" srcset="test.jpg"/>');
            }));
        });
    });
});
